---
permalink: protect-sco/task_determine_whether_oracle_databases_are_available_for_backup.html 
sidebar: sidebar 
keywords: credentials,SnapCenter Plug-in for Oracle Databases, non-database entries, oratab 
summary: リソースとは、 SnapCenter で管理されているホスト上の Oracle データベースのことです。使用可能なデータベースを検出したあとに、それらのデータベースをリソースグループに追加してデータ保護処理を実行できます。 
---
= Oracle データベースをバックアップに使用できるかどうかを確認します
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
リソースとは、 SnapCenter で管理されているホスト上の Oracle データベースのことです。使用可能なデータベースを検出したあとに、それらのデータベースをリソースグループに追加してデータ保護処理を実行できます。

* 必要なもの *

* SnapCenter サーバのインストール、ホストの追加、ストレージシステム接続の作成、クレデンシャルの追加などのタスクを完了しておく必要があります。
* データベースが仮想マシンディスク（ VMDK ）または raw デバイスマッピング（ RDM ）上にある場合は、 SnapCenter Plug-in for VMware vSphere を導入し、 SnapCenter にプラグインを登録する必要があります。
+
詳細については、を参照してください https://docs.netapp.com/us-en/sc-plugin-vmware-vsphere/scpivs44_deploy_snapcenter_plug-in_for_vmware_vsphere.html["SnapCenter Plug-in for VMware vSphere を導入"^]。

* データベースが VMDK ファイルシステムにある場合は、 vCenter にログインして * VM オプション * > * Advanced * > * Edit configuration * に移動し、 VM の DISK.enableUUID_true の値を設定しておく必要があります。
* SnapCenter データベースのさまざまなタイプやバージョンを検出するための、 Oracle のプロセスを確認しておく必要があります。


* このタスクについて *

プラグインをインストールすると、そのホスト上のすべてのデータベースが自動的に検出され、リソースページに表示されます。

データベースが検出されるためには、データベースが少なくともマウント済み状態であることが必要です。Oracle Real Application Clusters （ RAC ）環境で、検出が実行されるホスト内の RAC データベースインスタンスが検出されるためには、データベースインスタンスが少なくともマウント済み状態であることが必要です。リソースグループには、正常に検出されたデータベースのみを追加できます。

ホスト上で Oracle データベースを削除した場合、 SnapCenter サーバは認識しないため、削除されたデータベースのリストが表示されます。SnapCenter リソースのリストを更新するには、リソースを手動で更新する必要があります。

* 手順 *

. 左側のナビゲーションペインで、 * リソース * をクリックし、リストから適切なプラグインを選択します。
. [ リソース ] ページで、 [ * 表示 ] リストから [ * データベース * ] を選択します。
+
をクリックします image:../media/filter_icon.gif[""]をクリックし、ホスト名とデータベースタイプを選択してリソースをフィルタリングします。次に、をクリックします image:../media/filter_icon.gif[""] アイコンをクリックして、フィルタペインを閉じます。

. [ リソースの更新 ] をクリックします。
+
RAC One Node シナリオでは、データベースが現在ホストされているノード上の RAC データベースとして検出されます。



* 結果 *

データベースは、データベースタイプ、ホストまたはクラスタ名、関連するリソースグループとポリシー、ステータスなどの情報とともに表示されます。


IMPORTANT: データベース名が SnapCenter 以外に変更された場合は、リソースを更新する必要があります。

* データベースがネットアップ以外のストレージシステム上にある場合、ユーザインターフェイスの総体的なステータス列にはバックアップに使用できないメッセージが表示されます。
+
ネットアップ以外のストレージシステム上のデータベースには、データ保護処理を実行できません。

* データベースがネットアップストレージシステム上にあり、保護されていない場合は、ユーザインターフェイスの総体的なステータス列に Not protected というメッセージが表示されます。
* データベースがネットアップストレージシステム上にあり、保護されている場合、ユーザインターフェイスの総体的なステータス列には、バックアップに使用可能なメッセージが表示されます。



NOTE: Oracle データベース認証を有効にしている場合、リソースビューに赤い鍵のアイコンが表示されます。データベースを保護できるようにデータベースのクレデンシャルを設定するか、データベースをリソースグループに追加してデータ保護処理を実行する必要があります。



== SnapCenter で非データベースエントリが検出されないようにする方法

oratabファイル内に追加された非データベースエントリをSnapCenter で検出できません。

* 手順 *

. Oracle用プラグインをインストールしたあと、rootユーザはディレクトリ_/var/opt/snapcenter/sco/etc/に*SC_oratab .config *ファイルを作成する必要があります。
+
Oracleバイナリの所有者とグループに書き込み権限を付与して、ファイルを将来的に保持できるようにします。

. データベース管理者は、* SC_oratab .config *ファイルに非データベース・エントリを追加する必要があります。
+
/etc/oratabファイル内の非データベース・エントリに定義されている形式を同じにするか、またはユーザが非データベース・エンティティ・ストリングだけを追加できるようにすることを推奨します。

+

NOTE: 文字列では大文字と小文字が区別されます。先頭に#が付いているテキストはコメントとして扱われます。データベース以外の名前の後ろにコメントを追加できます。

+
....
For example:
--------------------------------------------
# Sample entries
# Each line can have only one non-database name
# These are non-database name
oratar  # Added by the admin group -1
#Added by the script team
NEWSPT
DBAGNT:/ora01/app/oracle/product/agent:N
-----------------------------------------------
....
. リソースを確認
+
データベース以外のエントリがリソースページにリストされません。* SC_oratab .config *に追加されているエントリはありません。




IMPORTANT: SnapCenter プラグインをアップグレードする前に、SC_AGENT構成ファイルのバックアップを作成することを常に推奨します。
