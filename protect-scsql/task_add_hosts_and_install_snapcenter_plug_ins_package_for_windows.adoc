---
permalink: protect-scsql/task_add_hosts_and_install_snapcenter_plug_ins_package_for_windows.html 
sidebar: sidebar 
keywords: credentials 
summary: ホストの追加とプラグインパッケージのインストールには、 SnapCenterAdd Host ページを使用する必要があります。プラグインは、自動的にリモートホストにインストールされます。 
---
= ホストを追加し、 SnapCenter Plug-ins Package for Windows をインストールします
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
ホストの追加およびプラグインパッケージのインストールには、 SnapCenter * ホストの追加ページを使用する必要があります。プラグインは、自動的にリモートホストにインストールされます。

* 必要なもの *

* SnapCenter Admin ロールなど、プラグインのインストールとアンインストールの権限のあるロールが割り当てられているユーザが必要です。
* Windows ホストにプラグインをインストールするときに、ビルトインでないクレデンシャルを指定する場合は、ホストで UAC を無効にします。
* メッセージキューイングサービスが実行中状態であることを確認する必要があります。
* Group Managed Service Account （ gMSA ；グループ管理サービスアカウント）を使用している場合は、管理者権限を持つ gMSA を設定する必要があります。
+
link:task_configure_gMSA_on_windows_server_2012_or_later.html["Windows Server 2012 以降で SQL 用のグループマネージドサービスアカウントを設定します"^]



* このタスクについて *

SnapCenter サーバをプラグインホストとして別の SnapCenter サーバに追加することはできません。

ホストの追加とプラグインパッケージのインストールは、個々のホストまたはクラスタに対して実行できます。クラスタまたは Windows Server Failover Clustering （ WSFC ）にプラグインをインストールする場合、プラグインはクラスタのすべてのノードにインストールされます。

ホストの管理の詳細については、を参照してください link:../admin/concept_manage_hosts.html["ホストを管理します"^]。

* 手順 *

. 左側のナビゲーションペインで、 * Hosts * （ホスト）をクリックします。
. 上部で [Managed Hosts] タブが選択されていることを確認します。
. [ 追加（ Add ） ] をクリックします。
. Hosts ページで、次の手順を実行します。
+
|===
| フィールド | 手順 


 a| 
ホストタイプ
 a| 
ホストタイプとして Windows を選択します。SnapCenter サーバによってホストが追加され、ホストに Plug-in for Windows がインストールされていない場合はインストールされます。

[ プラグイン ] ページで [Microsoft SQL Server] オプションを選択すると、 SnapCenter サーバによって Plug-in for SQL Server がインストールされます。



 a| 
ホスト名
 a| 
ホストの完全修飾ドメイン名（ FQDN ）または IP アドレスを入力します。信頼されていないドメインホストの IP アドレスは、 FQDN に解決される場合にのみサポートされます。

SnapCenter は、 DNS の適切な設定によって異なります。そのため、 FQDN を入力することを推奨します。

次のいずれかの IP アドレスまたは FQDN を入力できます。

** スタンドアロンホスト
** WSFC SnapCenter を使用してホストを追加するときに、ホストがサブドメインの一部である場合は、 FQDN を指定する必要があります。




 a| 
クレデンシャル
 a| 
作成したクレデンシャルの名前を選択するか、新しいクレデンシャルを作成します。このクレデンシャルには、リモートホストに対する管理者権限が必要です。詳細については、クレデンシャルの作成に関する情報を参照してください。

クレデンシャルの詳細を表示するには、指定したクレデンシャル名にカーソルを合わせます。


NOTE: クレデンシャル認証モードは、ホストの追加ウィザードで指定したホストタイプによって決まります。

|===
. [ インストールするプラグインを選択してください * ] セクションで、インストールするプラグインを選択します。
. [ * その他のオプション * ] をクリックします。
+
|===
| フィールド | 手順 


 a| 
ポート
 a| 
デフォルトのポート番号をそのまま使用するか、ポート番号を指定します。デフォルトのポート番号は 8145 です。SnapCenter サーバがカスタムポートにインストールされている場合は、そのポート番号がデフォルトポートとして表示されます。


NOTE: プラグインを手動でインストールし、カスタムポートを指定した場合は、同じポートを指定する必要があります。そうしないと、処理は失敗します。



 a| 
インストールパス
 a| 
デフォルトパスは C ： \Program Files\NetApp\SnapManager です。必要に応じて、パスをカスタマイズできます。



 a| 
クラスタ内のすべてのホストを追加します
 a| 
WSFC または SQL 可用性グループ内のすべてのクラスタノードを追加するには、このチェックボックスを選択します。クラスタ内の複数の使用可能な SQL 可用性グループを管理および識別するには、 GUI で適切なクラスタチェックボックスを選択して、すべてのクラスタノードを追加する必要があります。



 a| 
インストール前のチェックをスキップします
 a| 
プラグインを手動でインストール済みで、プラグインのインストール要件をホストが満たしているかどうかを検証しない場合は、このチェックボックスを選択します。



 a| 
プラグインサービスを実行するには、 Group Managed Service Account （ gMSA ；グループ管理サービスアカウント）を使用します
 a| 
グループ管理サービスアカウント（ GMSA ）を使用してプラグインサービスを実行する場合は、このチェックボックスをオンにします。

gMSA 名を domainName\accountName$ の形式で指定します。


NOTE: ホストが gMSA とともに追加され 'gMSA にログイン権限と sys 管理権限がある場合は 'gMSA を使用して SQL インスタンスに接続します

|===
. [Submit （送信） ] をクリックします。
. SQL Plug-in の場合、ログディレクトリを設定するホストを選択します。
+
.. ログディレクトリの設定 * をクリックし、ホストログディレクトリの設定ページで * 参照 * をクリックして、次の手順を実行します。
+
ネットアップ LUN （ドライブ）のみが選択対象として表示されます。SnapCenter は、バックアップ処理の一環として、ホストログディレクトリをバックアップしてレプリケートします。

+
image::../media/host_managed_hosts_configureplugin.gif[プラグインページを設定する]

+
... ホストログを格納するホスト上のドライブレターまたはマウントポイントを選択します。
... 必要に応じてサブディレクトリを選択します。
... [ 保存（ Save ） ] をクリックします。




. [Submit （送信） ] をクリックします。
+
[ 事前確認をスキップ ] チェックボックスをオンにしていない場合、プラグインをインストールするための要件をホストが満たしているかどうかが検証されます。ディスクスペース、 RAM 、 PowerShell のバージョン、 .NET のバージョン、場所（ Windows プラグインの場合）、および Java のバージョン（ Linux プラグインの場合）が、最小要件に照らして検証されます。最小要件を満たしていない場合は、対応するエラーまたは警告メッセージが表示されます。

+
エラーがディスクスペースまたは RAM に関連している場合は、 C ： \Program Files\NetApp\SnapManager WebApp にある web.config ファイルを更新してデフォルト値を変更することができます。エラーが他のパラメータに関連している場合は、問題を修正する必要があります。

+

NOTE: HA セットアップで web.config ファイルを更新する場合は、両方のノードでファイルを更新する必要があります。

. インストールの進行状況を監視します。

