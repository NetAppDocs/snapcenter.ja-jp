---
permalink: protect-nsp/perl.html 
sidebar: sidebar 
keywords: custom plug-in 
summary: 6edd2daf14dde352ee9ebb9ecbfb2fc4 
---
= 3f272cbd9f3d98a46dc5be01d6d1c28f
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
11190b0b920a84adaeb302d40a45ce80

* 1a5265d73355a139c4fc8415f55a7a75
* c355814a69aed5dc3c7043e4e911e1b7
* 24217546d978eb20d25b4a8e23476c5e
* 7e8a9233aabfc19acbe7c8db2f6496b8


ffbd4f869a45a0eb33f8c5a8782dd924

* 702ca092b068045e4b2a46bde0a6b8ae
* 2af72f100c356273d46284f6fd1dfc08
* 80f9d1ce28ebdbb90f6e6b35c5c789ad
* aa092af188e3be05b1a73b3b230ec735
* b7c58211de9baee1e71f10e4d6beb2de
* 547c4772ea7f61438244cb3b06eb4c00
* ecfb9f08f09baba9587e427bc8a820b1




== 375c26c661581c12f82c94065d73be46



=== 23470f65b59c12a53de5d619a2341725

8a394f3ff75e356a00bc923e2d3a24bb

baab955e25314f23a1e534211ed3c5ef

 my $result = {
....
      exit_code => 0,
      stdout => "",
      stderr => "",
};
....
d27ee45005dfdaf4349666580bb9be73

 return $result;


=== f820ed664a4b8487fe2f25ae4bcb8cb9

e972893c09832e7d698c9f7367e2dfae

6cf3334937a25069e083aa3194d19562

....
my $result = {
  exit_code => 0,
  stdout => "",
  stderr => "",
};
  $result->{env}->{‘key1’} = ‘value1’;
  $result->{env}->{‘key2’} = ‘value2’;
  ….
  return $result
....
79baca2ff9e61f20978b854c76a89ef4

....
sub setENV {
    my ($self, $config) = @_;
    my $first_value = $config->{‘key1’};
    my $second_value = $config->{‘key2’};
    …
}
....
 === Logging error messages
1a433a5ec4d06561757ffdd94aec551b

....
Load the SnapCreator::Event Class:
my $msgObj = new SnapCreator::Event();
my @message_a = ();
....
d24d2a5d893e94e9391c84ea41254a56

....
$msgObj->collect(\@message_a, INFO, "My INFO Message");
$msgObj->collect(\@message_a, WARN, "My WARN Message");
$msgObj->collect(\@message_a, ERROR, "My ERROR Message");
$msgObj->collect(\@message_a, DEBUG, "My DEBUG Message");
$msgObj->collect(\@message_a, TRACE, "My TRACE Message");
....
d865f2a752b423058b8d44eb74362907

 $result->{message} = \@message_a;


=== 125c7bffe5ed1068b5bc10027f14f7b4

2507f897ba239023fb34486297f3f9e4

|===
| 5081968c60b2b22a3c3a6539101eab58 | 27a8a8bedafd19538124ce3fdb309e4e | 261addf78c7b2c961032b3dd08ba0b1f 


 a| 
702ca092b068045e4b2a46bde0a6b8ae
 a| 
ac67ede5a84eb5a1add7ff4440e9a485
 a| 
84ad2bc533ff1fd26e84106c755353ec

1d7698b4eaa4207bc437a7978e65fe43



 a| 
34b6cd75171affba6957e308dcbd92be
 a| 
ebb061953c0454b2c8ee7b0ac615ebcd
 a| 
a8a94f37b262c1f49012caf671d0c45b



 a| 
abfc3a65538a6ec86502b2b498b6b4a6
 a| 
ebb061953c0454b2c8ee7b0ac615ebcd
 a| 
e0a2f30f2f2475916ba71c6ad7a65096

f4cd43f678664ff68fad4028fb6a40c4


NOTE: 34c6a8e1099863a52dbf55536f87b658



 a| 
8cf57b0816d44a1b975402b721da2725
 a| 
ebb061953c0454b2c8ee7b0ac615ebcd
 a| 
e0a2f30f2f2475916ba71c6ad7a65096

f4cd43f678664ff68fad4028fb6a40c4


NOTE: ce9d724a7186956382a6ad763f302ffc



 a| 
b55904d7759e5a6f24d4ca0dbdafd019
 a| 
ac67ede5a84eb5a1add7ff4440e9a485
 a| 
0fd08e22cd8a21cd901e68b42968c2e6



 a| 
b52dd62394b28fe653e8d770689ea60c
 a| 
ac67ede5a84eb5a1add7ff4440e9a485
 a| 
7371795f7797164be99265838bc9b9fa



 a| 
6cf49b275e3f780958fd8f3a3d44acb5
 a| 
d57c24f3fe52d16e7169b912dd647f0d
 a| 
34db83eb305843e804a58cb6bd2946a1



 a| 
ee2aa59563c4e74a0c51b3581f20083e
 a| 
d57c24f3fe52d16e7169b912dd647f0d
 a| 
91ebd6a2af6dffd236dfae9ec811613c



 a| 
a407f96cd552cb223b9e4711ef984ed7
 a| 
d57c24f3fe52d16e7169b912dd647f0d
 a| 
04aa63c67e2110767959dc93267c3482



 a| 
2bd339d85ee3b33e513359ce781b60cc
 a| 
d57c24f3fe52d16e7169b912dd647f0d
 a| 
b436cb5751d3f78735122bbbbc5fbcae



 a| 
8c6384dda98d8864d00e29dc96179970
 a| 
d57c24f3fe52d16e7169b912dd647f0d
 a| 
627a1357fb9b62d60cc9248505d3e500



 a| 
5e603fe8549380dcb8b43465eef93edd
 a| 
ebb061953c0454b2c8ee7b0ac615ebcd
 a| 
e55578a72ee7d0d6a8dd80db1eadc9de

|===


=== b931464c4daac142af5d9024d181308d

53bb9f86994f54a34977830fee345c0b

....
package MOCK;
our @ISA = qw(SnapCreator::Mod);
=head1 NAME
MOCK - class which represents a MOCK module.
=cut
=head1 DESCRIPTION
MOCK implements methods which only log requests.
=cut
use strict;
use warnings;
use diagnostics;
use SnapCreator::Util::Generic qw ( trim isEmpty );
use SnapCreator::Util::OS qw ( isWindows isUnix getUid
createTmpFile );
use SnapCreator::Event qw ( INFO ERROR WARN DEBUG COMMENT ASUP
CMD DUMP );
my $msgObj = new SnapCreator::Event();
my %config_h = ();
....


=== 456d0deba6a86c9585590550c797502d

4d57719f8e32047d1cae3a5ddb0172f7



==== 4f8f149ca6bb5234a087b671085eeaf4

3eee7d4df3f419567cb503c91871613e

....
sub setENV {
    my ($self, $obj) = @_;
    %config_h = %{$obj};
    my $result = {
      exit_code => 0,
      stdout => "",
      stderr => "",
    };
    return $result;
}
....


==== 7b7666de772bf908b0fe869a75e4f8dd

0a6e6f5e5a5a02cca44ae7aade91bf90

....
sub version {
  my $version_result = {
    major => 1,
    minor => 2,
    patch => 1,
    build => 0
  };
  my @message_a = ();
  $msgObj->collect(\@message_a, INFO, "VOLUMES
$config_h{'VOLUMES'}");
  $msgObj->collect(\@message_a, INFO,
"$config_h{'APP_NAME'}::quiesce");
  $version_result->{message} = \@message_a;
  return $version_result;
}
....


==== ecf480bc589751647a8416a2af91ddb1

64443c9749b5ec77960e18487a9628cc

....
sub quiesce {
  my $result = {
      exit_code => 0,
      stdout => "",
      stderr => "",
  };
  my @message_a = ();
  $msgObj->collect(\@message_a, INFO, "VOLUMES
$config_h{'VOLUMES'}");
  $msgObj->collect(\@message_a, INFO,
"$config_h{'APP_NAME'}::quiesce");
  $result->{message} = \@message_a;
  return $result;
}
....


==== 9061e762662985a3ffadd9af623ea433

96ebe9d14f194daa158da373ecb5b686

....
sub unquiesce {
  my $result = {
      exit_code => 0,
      stdout => "",
      stderr => "",
  };
  my @message_a = ();
  $msgObj->collect(\@message_a, INFO, "VOLUMES
$config_h{'VOLUMES'}");
  $msgObj->collect(\@message_a, INFO,
"$config_h{'APP_NAME'}::unquiesce");
  $result->{message} = \@message_a;
  return $result;
}
....